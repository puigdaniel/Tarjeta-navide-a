<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=7">
	<title>Navidad Interactiva</title>
	<style>
		body {
			margin: 0;
			background: radial-gradient(circle, #1a2a6c, #b21f1f, #fdbb2d);
			height: 100vh;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			overflow: hidden;
			font-family: 'Arial', sans-serif;
			color: white;
		}

		h1 {
			font-size: 2.5rem;
			text-shadow: 2px 2px 10px rgba(0,0,0,0.5);
			z-index: 10;
			margin-bottom: 20px;
		}

		/* El √Årbol */
		.tree-container {
			position: relative;
			cursor: pointer;
		}

		.tree {
			width: 0;
			height: 0;
			border-left: 100px solid transparent;
			border-right: 100px solid transparent;
			border-bottom: 150px solid #064e40;
			transition: border-bottom-color 0.5s ease;
			filter: drop-shadow(0 0 15px rgba(255,255,255,0.3));
		}

		/* Tronco */
		.tree:after {
			content: "";
			position: absolute;
			top: 150px;
			left: -15px;
			width: 30px;
			height: 40px;
			background: #4b2c20;
		}

		/* Bot√≥n Estilizado */
		.btn-navidad {
			margin-top: 60px;
			padding: 15px 30px;
			font-size: 1.2rem;
			background: #e74c3c;
			color: white;
			border: none;
			border-radius: 50px;
			cursor: pointer;
			box-shadow: 0 4px 15px rgba(0,0,0,0.3);
			z-index: 20;
			transition: transform 0.2s;
		}

		.btn-navidad:hover {
			transform: scale(1.05);
			background: #c0392b;
		}

		.snowflake {
			position: fixed;
			top: -10px;
			color: white;
			user-select: none;
			z-index: 1000;
		}
	</style>
</head>
<body>

	<h1>üéÑ ¬°Feliz Navidad! üéÅ</h1>

	<div class="tree-container">
		<div id="arbol" class="tree"></div>
	</div>

	<button class="btn-navidad" onclick="iniciarFiesta()">‚ú® Activar Magia Navide√±a</button>

	<script>
		let animandoColores = false;

		function iniciarFiesta() {
			cambiarColorArbol();
			tocarMusica();
		}

		function cambiarColorArbol() {
			const arbol = document.getElementById('arbol');
			const colores = ['#064e40',
				'#27ae60',
				'#f1c40f',
				'#e74c3c',
				'#9b59b6',
				'#3498db'];
			let i = 0;

			if (!animandoColores) {
				animandoColores = true;
				setInterval(() => {
					arbol.style.borderBottomColor = colores[i];
					i = (i + 1) % colores.length;
				}, 500);
			}
		}

		// Generador de m√∫sica simple (Jingle Bells) usando Web Audio API
		function tocarMusica() {
			const context = new (window.AudioContext || window.webkitAudioContext)();
			const notas = [{
				f: 329.63,
				d: 0.2
			},
				{
					f: 329.63,
					d: 0.2
				},
				{
					f: 329.63,
					d: 0.4
				},
				{
					f: 329.63,
					d: 0.2
				},
				{
					f: 329.63,
					d: 0.2
				},
				{
					f: 329.63,
					d: 0.4
				},
				{
					f: 329.63,
					d: 0.2
				},
				{
					f: 392.00,
					d: 0.2
				},
				{
					f: 261.63,
					d: 0.2
				},
				{
					f: 293.66,
					d: 0.2
				},
				{
					f: 329.63,
					d: 0.8
				}];

			let tiempo = context.currentTime;

			notas.forEach(nota => {
				const osc = context.createOscillator();
				const gain = context.createGain();
				osc.type = 'sine';
				osc.frequency.setValueAtTime(nota.f, tiempo);
				gain.gain.setValueAtTime(0.1, tiempo);
				gain.gain.exponentialRampToValueAtTime(0.01, tiempo + nota.d);

				osc.connect(gain);
				gain.connect(context.destination);

				osc.start(tiempo);
				osc.stop(tiempo + nota.d);
				tiempo += nota.d + 0.05;
			});
		}

		// Efecto de Nieve
		function createSnowflake() {
			const snow = document.createElement('div');
			snow.innerHTML = "‚ùÑ";
			snow.classList.add('snowflake');
			snow.style.left = Math.random() * 100 + "vw";
			snow.style.fontSize = Math.random() * 20 + 10 + "px";
			snow.style.opacity = Math.random();
			document.body.appendChild(snow);

			let pos = -10;
			const fall = setInterval(() => {
				pos += 2;
				snow.style.top = pos + "px";
				if (pos > window.innerHeight) {
					clearInterval(fall); snow.remove();
				}
			},
				20);
		}
		setInterval(createSnowflake, 150);
	</script>
</body>
</html>
